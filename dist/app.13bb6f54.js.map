{"version":3,"sources":["../node_modules/chleb/dist/renderComponent.js","../node_modules/chleb/dist/renderNode.js","../node_modules/chleb/dist/diff.js","../node_modules/chleb/dist/Bread.js","../node_modules/chleb/dist/Component.js","../node_modules/chleb/dist/index.js","app.js"],"names":["Example","data","style","ready","randomize","Component","left","Math","floor","random","window","innerWidth","top","innerHeight","app","Bread","render","document","querySelector"],"mappings":"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","file":"app.13bb6f54.js","sourceRoot":"..\\src","sourcesContent":["\"use strict\";\r\nexports.__esModule = true;\r\nvar diff_1 = require(\"./diff\");\r\nvar renderComponent = function (component, attributes) {\r\n    var rendered = component.render(attributes);\r\n    component.base = diff_1[\"default\"](component.base, rendered, null, component);\r\n};\r\nexports[\"default\"] = renderComponent;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar renderComponent_1 = require(\"./renderComponent\");\r\nvar renderNode = function (vNode, component) {\r\n    if (typeof vNode == 'string')\r\n        return document.createTextNode(vNode);\r\n    var type = vNode.type, attributes = vNode.attributes, children = vNode.children;\r\n    var $el;\r\n    if (typeof type == 'string') {\r\n        $el = document.createElement(type);\r\n        for (var key in attributes) {\r\n            var value = attributes[key];\r\n            if (key[0] == 'o' && key[1] == 'n') {\r\n                $el.addEventListener(key.substring(2), value.bind(component));\r\n            }\r\n            else if (key == 'style') {\r\n                var style = (attributes || {}).style;\r\n                for (var key_1 in style)\r\n                    $el.style[key_1] = style[key_1];\r\n            }\r\n            else\r\n                $el.setAttribute(key, value);\r\n        }\r\n    }\r\n    else if (typeof type == 'function') {\r\n        if (!component)\r\n            component = new type();\r\n        var _loop_1 = function (prop) {\r\n            Object.defineProperty(component, prop, {\r\n                get: function () {\r\n                    return component.data[prop];\r\n                },\r\n                set: function (value) {\r\n                    component.data[prop] = value;\r\n                    renderComponent_1[\"default\"](component, attributes);\r\n                }\r\n            });\r\n        };\r\n        for (var prop in component.data) {\r\n            _loop_1(prop);\r\n        }\r\n        var rendered = component.render(attributes);\r\n        $el = renderNode(rendered, component);\r\n        component.base = $el;\r\n        component.ready(); // TODO: more events\r\n    }\r\n    children.forEach(function (child) { return $el.appendChild(renderNode(child, component)); });\r\n    return $el;\r\n};\r\nexports[\"default\"] = renderNode;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar renderNode_1 = require(\"./renderNode\");\r\nvar diff = function ($node, vNode, $parent, component) {\r\n    if ($node) {\r\n        var type = vNode.type, attributes = vNode.attributes;\r\n        if (attributes && attributes.static)\r\n            return $node;\r\n        if (typeof vNode === 'string') {\r\n            $node.nodeValue = vNode;\r\n            return $node;\r\n        }\r\n        var children_1 = vNode.children;\r\n        var style = (attributes || {}).style;\r\n        if (typeof type === 'function') {\r\n            var component_1 = new type(attributes);\r\n            var rendered = component_1.render();\r\n            component_1.updated();\r\n            diff($node, rendered);\r\n            return $node;\r\n        }\r\n        if (children_1.length != $node.childNodes.length)\r\n            $node.appendChild(renderNode_1[\"default\"](children_1[children_1.length - 1]));\r\n        $node.childNodes.forEach(function (child, i) { return diff(child, children_1[i]); });\r\n        for (var key in attributes) {\r\n            if (key == 'value')\r\n                $node.value = attributes[key];\r\n            else\r\n                $node.setAttribute(key, attributes[key]);\r\n        }\r\n        for (var key in style)\r\n            $node.style[key] = style[key];\r\n        return $node;\r\n    }\r\n    else {\r\n        var $newNode = renderNode_1[\"default\"](vNode, component);\r\n        $parent.appendChild($newNode);\r\n        return $newNode;\r\n    }\r\n};\r\nexports[\"default\"] = diff;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar diff_1 = require(\"./diff\");\r\nvar Bread = /** @class */ (function () {\r\n    function Bread(_a) {\r\n        var app = _a.app;\r\n        this.app = app;\r\n    }\r\n    Bread.prototype.render = function ($parent) {\r\n        var component = new (this.app)();\r\n        var node = { type: this.app, attributes: {}, children: [] };\r\n        diff_1[\"default\"](null, node, $parent, component);\r\n    };\r\n    Bread.parse = function (type, attributes) {\r\n        var children = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            children[_i - 2] = arguments[_i];\r\n        }\r\n        return { type: type, attributes: attributes, children: children.flat(Infinity) || [] };\r\n    };\r\n    return Bread;\r\n}());\r\nexports[\"default\"] = Bread;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar renderComponent_1 = require(\"./renderComponent\");\r\nvar Component = /** @class */ (function () {\r\n    function Component(props) {\r\n        this.data = {};\r\n        this.props = {};\r\n        this.props = props;\r\n    }\r\n    Component.prototype.render = function (props) {\r\n        return { type: '', attributes: props, children: [] };\r\n    };\r\n    ;\r\n    Component.prototype.update = function (callback) {\r\n        if (callback === void 0) { callback = (function () { }); }\r\n        callback();\r\n        renderComponent_1[\"default\"](this, {});\r\n    };\r\n    Component.prototype.set = function (prop, value) {\r\n        Object.defineProperty(this, prop, {\r\n            get: function () {\r\n                return this.data[prop];\r\n            },\r\n            set: function (val) {\r\n                this.data[prop] = val;\r\n                this.update();\r\n            }\r\n        });\r\n        this[prop] = value;\r\n        renderComponent_1[\"default\"](this, {});\r\n    };\r\n    Component.prototype.ready = function () { };\r\n    Component.prototype.updated = function () { };\r\n    return Component;\r\n}());\r\nexports[\"default\"] = Component;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar Bread_1 = require(\"./Bread\");\r\nexports.Bread = Bread_1[\"default\"];\r\nvar Component_1 = require(\"./Component\");\r\nexports.Component = Component_1[\"default\"];\r\n","import { Bread, Component } from 'chleb';\r\n\r\nclass Example extends Component {\r\n    data = {\r\n        style: {}\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <button onclick={this.randomize} style={this.style} class=\"buttong\">klik</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    randomize() {\r\n        this.style = {\r\n            left: `${Math.floor(Math.random() * (window.innerWidth - 300))}px`,\r\n            top: `${Math.floor(Math.random() * (window.innerHeight - 100))}px`\r\n        };\r\n    }\r\n\r\n    ready = this.randomize;\r\n}\r\n\r\nconst app = new Bread({ app: Example });\r\napp.render(document.querySelector('#root'));"]}